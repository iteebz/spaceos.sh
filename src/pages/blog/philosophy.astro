---
import Prose from "../../layouts/Prose.astro";
import fs from "node:fs";
import path from "node:path";

const filePath = path.join(process.cwd(), "..", "docs", "philosophy.md");
const content = fs.readFileSync(filePath, "utf-8");

const lines = content.split("\n");
const title = lines[0].replace(/^#\s*/, "");
const body = lines.slice(1).join("\n");
---

<Prose title={title} description="Design rationale for Space-OS">
  <h1>{title}</h1>
  <Fragment set:html={await import("marked").then(m => m.marked(body))} />
</Prose>
